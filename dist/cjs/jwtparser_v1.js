'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var coreutil_v1 = require('coreutil_v1');

class JwtEntry {

    /**
     * 
     * @param {String} name 
     * @param {any} value 
     */
    constructor(name, value) {

        /**
         * @type {String}
         */
        this.name = name;

        /**
         * @type {any}
         */
        this.value = value;
    }

}

class AudienceClaim extends JwtEntry {

    static get NAME() { return "aud"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(AudienceClaim.NAME, value);
    }

}

class ExpiryClaim extends JwtEntry {

    static get NAME() { return "exp"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(ExpiryClaim.NAME, value);
    }

}

class IssuerClaim extends JwtEntry {

    static get NAME() { return "iss"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(IssuerClaim.NAME, value);
    }

}

class JwtIdClaim extends JwtEntry {

    static get NAME() { return "jti"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(JwtIdClaim.NAME, value);
    }

}

class NotBeforeClaim extends JwtEntry {

    static get NAME() { return "nbf"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(NotBeforeClaim.NAME, value);
    }

}

class SubjectClaim extends JwtEntry {

    static get NAME() { return "sub"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(SubjectClaim.NAME, value);
    }

}

class IssuedAtClaim extends JwtEntry {

    static get NAME() { return "iat"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(IssuedAtClaim.NAME, value);
    }

}

class JwtBody {

    constructor(claimsObject = null) {

        /**
         * @type {SubjectClaim}
         */
        this.subject = this.asTypedClaim(claimsObject, SubjectClaim.NAME, SubjectClaim);

        /**
         * @type {IssuerClaim}
         */
        this.issuer = this.asTypedClaim(claimsObject, IssuerClaim.NAME, IssuerClaim);

        /**
         * @type {AudienceClaim}
         */
        this.audience = this.asTypedClaim(claimsObject, AudienceClaim.NAME, AudienceClaim);

        /**
         * @type {JwtIdClaim}
         */
        this.jwtId = this.asTypedClaim(claimsObject, JwtIdClaim.NAME, JwtIdClaim);

        /**
         * @type {ExpiryClaim}
         */
        this.expiry = this.asTypedClaim(claimsObject, ExpiryClaim.NAME, ExpiryClaim);

        /**
         * @type {NotBeforeClaim}
         */
        this.notBefore = this.asTypedClaim(claimsObject, NotBeforeClaim.NAME, NotBeforeClaim);

        /**
         * @type {NotBeforeClaim}
         */
        this.issuedAt = this.asTypedClaim(claimsObject, IssuedAtClaim.NAME, NotBeforeClaim);

        /**
         * @type {Map}
         */
        this.namedClaims = this.asMap(claimsObject);
    }

    /**
     * 
     * @param {*} claimsObject 
     * @param {*} attributeName 
     * @returns {*}
     */
    asTypedClaim(claimsObject, attributeName, className) {
        if (claimsObject === null) {
            return null;
        }
        const claimsValue = claimsObject[attributeName];
        if(claimsValue === null || claimsValue === undefined) {
            return null;
        }
        return new className(claimsValue);
    }

    asMap(claimsObject) {
        const namedClaims = new coreutil_v1.Map();
        if (claimsObject === null) {
            return namedClaims;
        }
        for ( const [key, value] of Object.entries(claimsObject)) {
            namedClaims.set(key, new JwtEntry(key, value));
        }
        return namedClaims;
    }

    /**
     * 
     * @param {String} name 
     * @returns {JwtEntry}
     */
    getNamedClaim(name) {
        return this.namedClaims.get(name);
    }

}

class AlgorithmMeta extends JwtEntry {

    static get NAME() { return "alg"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(AlgorithmMeta.NAME, value);
    }

}

class TypeMeta extends JwtEntry {

    static get NAME() { return "typ"; }

    /**
     * 
     * @param {String} value 
     */
    constructor(value) {
        super(TypeMeta.NAME, value);
    }

}

class JwtHeader {

    constructor(metaObject) {

        /**
         * @type {AlgorithmMeta}
         */
        this.algorithm = this.getMeta(metaObject, AlgorithmMeta.NAME, AlgorithmMeta);

        /**
         * @type {TypeMeta}
         */
        this.type = this.getMeta(metaObject, TypeMeta.NAME, TypeMeta);
    }

    /**
     * 
     * @param {*} metaObject 
     * @param {*} attributeName 
     */
    getMeta(metaObject, attributeName, className) {
        if (metaObject === null) {
            return null;
        }
        const metaValue = metaObject[attributeName];
        if(metaValue === null || metaValue === undefined) {
            return null;
        }
        return new className(metaValue);
    }

}

class Jwt {

    constructor(stringSource, jwtHeader, jwtBody) {
        /**
         * @type {String}
         */
        this.source = stringSource;

        /**
         * @type {JwtHeader}
         */
        this.header = jwtHeader;

        /**
         * @type {JwtBody}
         */
        this.body = jwtBody;
    }

}

class JwtStringParser {

    /**
     * 
     * @param {String} jwtString
     * @returns {Jwt} jwt
     */
    static parseString(jwtString) {
        /**
         * @type [Array]
         */
        const jwtParts = jwtString.split(".");
        if(jwtParts.length < 2) {
            throw "JWT does not have a body";
        }
        
        const headerDecoded = atob(jwtParts[0]);
        const headerObject = JSON.parse(headerDecoded);
        const jwtHeader = new JwtHeader(headerObject);

        const bodyDecoded = atob(jwtParts[1]);
        const bodyObject = JSON.parse(bodyDecoded);
        const jwtBody = new JwtBody(bodyObject);

        return new Jwt(jwtString, jwtHeader, jwtBody);
    }

}

exports.AlgorithmMeta = AlgorithmMeta;
exports.AudienceClaim = AudienceClaim;
exports.ExpiryClaim = ExpiryClaim;
exports.IssuedAtClaim = IssuedAtClaim;
exports.IssuerClaim = IssuerClaim;
exports.Jwt = Jwt;
exports.JwtBody = JwtBody;
exports.JwtEntry = JwtEntry;
exports.JwtHeader = JwtHeader;
exports.JwtIdClaim = JwtIdClaim;
exports.JwtStringParser = JwtStringParser;
exports.NotBeforeClaim = NotBeforeClaim;
exports.SubjectClaim = SubjectClaim;
exports.TypeMeta = TypeMeta;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiand0cGFyc2VyX3YxLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2p3dEVudHJ5LmpzIiwiLi4vLi4vc3JjL2p3dHBhcnNlci9tb2RlbC9ib2R5L2F1ZGllbmNlQ2xhaW0uanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2JvZHkvZXhwaXJ5Q2xhaW0uanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2JvZHkvaXNzdWVyQ2xhaW0uanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2JvZHkvand0SWRDbGFpbS5qcyIsIi4uLy4uL3NyYy9qd3RwYXJzZXIvbW9kZWwvYm9keS9ub3RCZWZvcmVDbGFpbS5qcyIsIi4uLy4uL3NyYy9qd3RwYXJzZXIvbW9kZWwvYm9keS9zdWJqZWN0Q2xhaW0uanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2JvZHkvaXNzdWVkQXRDbGFpbS5qcyIsIi4uLy4uL3NyYy9qd3RwYXJzZXIvbW9kZWwvand0Qm9keS5qcyIsIi4uLy4uL3NyYy9qd3RwYXJzZXIvbW9kZWwvaGVhZGVyL2FsZ29yaXRobU1ldGEuanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL21vZGVsL2hlYWRlci90eXBlTWV0YS5qcyIsIi4uLy4uL3NyYy9qd3RwYXJzZXIvbW9kZWwvand0SGVhZGVyLmpzIiwiLi4vLi4vc3JjL2p3dHBhcnNlci9tb2RlbC9qd3QuanMiLCIuLi8uLi9zcmMvand0cGFyc2VyL2p3dFN0cmluZ1BhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSnd0RW50cnkge1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgXG4gICAgICogQHBhcmFtIHthbnl9IHZhbHVlIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7YW55fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxufSIsImltcG9ydCB7IEp3dEVudHJ5IH0gZnJvbSBcIi4uL2p3dEVudHJ5LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBBdWRpZW5jZUNsYWltIGV4dGVuZHMgSnd0RW50cnkge1xuXG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJhdWRcIjsgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKEF1ZGllbmNlQ2xhaW0uTkFNRSwgdmFsdWUpXG4gICAgfVxuXG59IiwiaW1wb3J0IHsgSnd0RW50cnkgfSBmcm9tIFwiLi4vand0RW50cnkuanNcIjtcblxuZXhwb3J0IGNsYXNzIEV4cGlyeUNsYWltIGV4dGVuZHMgSnd0RW50cnkge1xuXG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJleHBcIjsgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKEV4cGlyeUNsYWltLk5BTUUsIHZhbHVlKVxuICAgIH1cblxufSIsImltcG9ydCB7IEp3dEVudHJ5IH0gZnJvbSBcIi4uL2p3dEVudHJ5LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBJc3N1ZXJDbGFpbSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiaXNzXCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihJc3N1ZXJDbGFpbS5OQU1FLCB2YWx1ZSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBKd3RFbnRyeSB9IGZyb20gXCIuLi9qd3RFbnRyeS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgSnd0SWRDbGFpbSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwianRpXCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihKd3RJZENsYWltLk5BTUUsIHZhbHVlKVxuICAgIH1cblxufSIsImltcG9ydCB7IEp3dEVudHJ5IH0gZnJvbSBcIi4uL2p3dEVudHJ5LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBOb3RCZWZvcmVDbGFpbSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwibmJmXCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihOb3RCZWZvcmVDbGFpbS5OQU1FLCB2YWx1ZSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBKd3RFbnRyeSB9IGZyb20gXCIuLi9qd3RFbnRyeS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgU3ViamVjdENsYWltIGV4dGVuZHMgSnd0RW50cnkge1xuXG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJzdWJcIjsgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKFN1YmplY3RDbGFpbS5OQU1FLCB2YWx1ZSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBKd3RFbnRyeSB9IGZyb20gXCIuLi9qd3RFbnRyeS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgSXNzdWVkQXRDbGFpbSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiaWF0XCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihJc3N1ZWRBdENsYWltLk5BTUUsIHZhbHVlKVxuICAgIH1cblxufSIsImltcG9ydCB7IE1hcCB9IGZyb20gXCJjb3JldXRpbF92MVwiXG5pbXBvcnQgeyBBdWRpZW5jZUNsYWltIH0gZnJvbSBcIi4vYm9keS9hdWRpZW5jZUNsYWltLmpzXCI7XG5pbXBvcnQgeyBKd3RFbnRyeSB9IGZyb20gXCIuL2p3dEVudHJ5LmpzXCI7XG5pbXBvcnQgeyBFeHBpcnlDbGFpbSB9IGZyb20gXCIuL2JvZHkvZXhwaXJ5Q2xhaW0uanNcIjtcbmltcG9ydCB7IElzc3VlckNsYWltIH0gZnJvbSBcIi4vYm9keS9pc3N1ZXJDbGFpbS5qc1wiO1xuaW1wb3J0IHsgSnd0SWRDbGFpbSB9IGZyb20gXCIuL2JvZHkvand0SWRDbGFpbS5qc1wiO1xuaW1wb3J0IHsgTm90QmVmb3JlQ2xhaW0gfSBmcm9tIFwiLi9ib2R5L25vdEJlZm9yZUNsYWltLmpzXCI7XG5pbXBvcnQgeyBTdWJqZWN0Q2xhaW0gfSBmcm9tIFwiLi9ib2R5L3N1YmplY3RDbGFpbS5qc1wiO1xuaW1wb3J0IHsgSXNzdWVkQXRDbGFpbSB9IGZyb20gXCIuL2JvZHkvaXNzdWVkQXRDbGFpbS5qc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBKd3RCb2R5IHtcblxuICAgIGNvbnN0cnVjdG9yKGNsYWltc09iamVjdCA9IG51bGwpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1N1YmplY3RDbGFpbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ViamVjdCA9IHRoaXMuYXNUeXBlZENsYWltKGNsYWltc09iamVjdCwgU3ViamVjdENsYWltLk5BTUUsIFN1YmplY3RDbGFpbSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtJc3N1ZXJDbGFpbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNzdWVyID0gdGhpcy5hc1R5cGVkQ2xhaW0oY2xhaW1zT2JqZWN0LCBJc3N1ZXJDbGFpbS5OQU1FLCBJc3N1ZXJDbGFpbSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBdWRpZW5jZUNsYWltfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdWRpZW5jZSA9IHRoaXMuYXNUeXBlZENsYWltKGNsYWltc09iamVjdCwgQXVkaWVuY2VDbGFpbS5OQU1FLCBBdWRpZW5jZUNsYWltKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0p3dElkQ2xhaW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmp3dElkID0gdGhpcy5hc1R5cGVkQ2xhaW0oY2xhaW1zT2JqZWN0LCBKd3RJZENsYWltLk5BTUUsIEp3dElkQ2xhaW0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7RXhwaXJ5Q2xhaW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4cGlyeSA9IHRoaXMuYXNUeXBlZENsYWltKGNsYWltc09iamVjdCwgRXhwaXJ5Q2xhaW0uTkFNRSwgRXhwaXJ5Q2xhaW0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Tm90QmVmb3JlQ2xhaW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vdEJlZm9yZSA9IHRoaXMuYXNUeXBlZENsYWltKGNsYWltc09iamVjdCwgTm90QmVmb3JlQ2xhaW0uTkFNRSwgTm90QmVmb3JlQ2xhaW0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Tm90QmVmb3JlQ2xhaW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzc3VlZEF0ID0gdGhpcy5hc1R5cGVkQ2xhaW0oY2xhaW1zT2JqZWN0LCBJc3N1ZWRBdENsYWltLk5BTUUsIE5vdEJlZm9yZUNsYWltKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge01hcH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZWRDbGFpbXMgPSB0aGlzLmFzTWFwKGNsYWltc09iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBjbGFpbXNPYmplY3QgXG4gICAgICogQHBhcmFtIHsqfSBhdHRyaWJ1dGVOYW1lIFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGFzVHlwZWRDbGFpbShjbGFpbXNPYmplY3QsIGF0dHJpYnV0ZU5hbWUsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoY2xhaW1zT2JqZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGFpbXNWYWx1ZSA9IGNsYWltc09iamVjdFthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYoY2xhaW1zVmFsdWUgPT09IG51bGwgfHwgY2xhaW1zVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjbGFzc05hbWUoY2xhaW1zVmFsdWUpO1xuICAgIH1cblxuICAgIGFzTWFwKGNsYWltc09iamVjdCkge1xuICAgICAgICBjb25zdCBuYW1lZENsYWltcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgaWYgKGNsYWltc09iamVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5hbWVkQ2xhaW1zO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoIGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjbGFpbXNPYmplY3QpKSB7XG4gICAgICAgICAgICBuYW1lZENsYWltcy5zZXQoa2V5LCBuZXcgSnd0RW50cnkoa2V5LCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lZENsYWltcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBcbiAgICAgKiBAcmV0dXJucyB7Snd0RW50cnl9XG4gICAgICovXG4gICAgZ2V0TmFtZWRDbGFpbShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVkQ2xhaW1zLmdldChuYW1lKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBKd3RFbnRyeSB9IGZyb20gXCIuLi9qd3RFbnRyeS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQWxnb3JpdGhtTWV0YSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiYWxnXCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihBbGdvcml0aG1NZXRhLk5BTUUsIHZhbHVlKVxuICAgIH1cblxufSIsImltcG9ydCB7IEp3dEVudHJ5IH0gZnJvbSBcIi4uL2p3dEVudHJ5LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUeXBlTWV0YSBleHRlbmRzIEp3dEVudHJ5IHtcblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwidHlwXCI7IH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihUeXBlTWV0YS5OQU1FLCB2YWx1ZSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBBbGdvcml0aG1NZXRhIH0gZnJvbSBcIi4vaGVhZGVyL2FsZ29yaXRobU1ldGEuanNcIjtcbmltcG9ydCB7IFR5cGVNZXRhIH0gZnJvbSBcIi4vaGVhZGVyL3R5cGVNZXRhLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBKd3RIZWFkZXIge1xuXG4gICAgY29uc3RydWN0b3IobWV0YU9iamVjdCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7QWxnb3JpdGhtTWV0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxnb3JpdGhtID0gdGhpcy5nZXRNZXRhKG1ldGFPYmplY3QsIEFsZ29yaXRobU1ldGEuTkFNRSwgQWxnb3JpdGhtTWV0YSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtUeXBlTWV0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZ2V0TWV0YShtZXRhT2JqZWN0LCBUeXBlTWV0YS5OQU1FLCBUeXBlTWV0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBtZXRhT2JqZWN0IFxuICAgICAqIEBwYXJhbSB7Kn0gYXR0cmlidXRlTmFtZSBcbiAgICAgKi9cbiAgICBnZXRNZXRhKG1ldGFPYmplY3QsIGF0dHJpYnV0ZU5hbWUsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAobWV0YU9iamVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YVZhbHVlID0gbWV0YU9iamVjdFthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYobWV0YVZhbHVlID09PSBudWxsIHx8IG1ldGFWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNsYXNzTmFtZShtZXRhVmFsdWUpO1xuICAgIH1cblxufSIsImltcG9ydCB7IEp3dEJvZHkgfSBmcm9tIFwiLi9qd3RCb2R5LmpzXCI7XG5pbXBvcnQgeyBKd3RIZWFkZXIgfSBmcm9tIFwiLi9qd3RIZWFkZXIuanNcIjtcblxuZXhwb3J0IGNsYXNzIEp3dCB7XG5cbiAgICBjb25zdHJ1Y3RvcihzdHJpbmdTb3VyY2UsIGp3dEhlYWRlciwgand0Qm9keSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlID0gc3RyaW5nU291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7Snd0SGVhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWFkZXIgPSBqd3RIZWFkZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtKd3RCb2R5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib2R5ID0gand0Qm9keTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBKd3QgfSBmcm9tIFwiLi9tb2RlbC9qd3QuanNcIjtcbmltcG9ydCB7IEp3dEJvZHkgfSBmcm9tIFwiLi9tb2RlbC9qd3RCb2R5LmpzXCI7XG5pbXBvcnQgeyBKd3RIZWFkZXIgfSBmcm9tIFwiLi9tb2RlbC9qd3RIZWFkZXIuanNcIjtcblxuZXhwb3J0IGNsYXNzIEp3dFN0cmluZ1BhcnNlciB7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gand0U3RyaW5nXG4gICAgICogQHJldHVybnMge0p3dH0gand0XG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlU3RyaW5nKGp3dFN0cmluZykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgW0FycmF5XVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgand0UGFydHMgPSBqd3RTdHJpbmcuc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZihqd3RQYXJ0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBcIkpXVCBkb2VzIG5vdCBoYXZlIGEgYm9keVwiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBoZWFkZXJEZWNvZGVkID0gYXRvYihqd3RQYXJ0c1swXSk7XG4gICAgICAgIGNvbnN0IGhlYWRlck9iamVjdCA9IEpTT04ucGFyc2UoaGVhZGVyRGVjb2RlZCk7XG4gICAgICAgIGNvbnN0IGp3dEhlYWRlciA9IG5ldyBKd3RIZWFkZXIoaGVhZGVyT2JqZWN0KTtcblxuICAgICAgICBjb25zdCBib2R5RGVjb2RlZCA9IGF0b2Ioand0UGFydHNbMV0pO1xuICAgICAgICBjb25zdCBib2R5T2JqZWN0ID0gSlNPTi5wYXJzZShib2R5RGVjb2RlZCk7XG4gICAgICAgIGNvbnN0IGp3dEJvZHkgPSBuZXcgSnd0Qm9keShib2R5T2JqZWN0KTtcblxuICAgICAgICByZXR1cm4gbmV3IEp3dChqd3RTdHJpbmcsIGp3dEhlYWRlciwgand0Qm9keSk7XG4gICAgfVxuXG59Il0sIm5hbWVzIjpbIk1hcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTSxRQUFRLENBQUM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzNCLEtBQUs7QUFDTDtBQUNBOztBQ2xCTyxNQUFNLGFBQWEsU0FBUyxRQUFRLENBQUM7QUFDNUM7QUFDQSxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3ZCLFFBQVEsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFDO0FBQ3hDLEtBQUs7QUFDTDtBQUNBOztBQ1pPLE1BQU0sV0FBVyxTQUFTLFFBQVEsQ0FBQztBQUMxQztBQUNBLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxPQUFPLEtBQUssQ0FBQyxFQUFFO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDdkIsUUFBUSxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUM7QUFDdEMsS0FBSztBQUNMO0FBQ0E7O0FDWk8sTUFBTSxXQUFXLFNBQVMsUUFBUSxDQUFDO0FBQzFDO0FBQ0EsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLE9BQU8sS0FBSyxDQUFDLEVBQUU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRTtBQUN2QixRQUFRLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBQztBQUN0QyxLQUFLO0FBQ0w7QUFDQTs7QUNaTyxNQUFNLFVBQVUsU0FBUyxRQUFRLENBQUM7QUFDekM7QUFDQSxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3ZCLFFBQVEsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBOztBQ1pPLE1BQU0sY0FBYyxTQUFTLFFBQVEsQ0FBQztBQUM3QztBQUNBLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxPQUFPLEtBQUssQ0FBQyxFQUFFO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDdkIsUUFBUSxLQUFLLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUM7QUFDekMsS0FBSztBQUNMO0FBQ0E7O0FDWk8sTUFBTSxZQUFZLFNBQVMsUUFBUSxDQUFDO0FBQzNDO0FBQ0EsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLE9BQU8sS0FBSyxDQUFDLEVBQUU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRTtBQUN2QixRQUFRLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBQztBQUN2QyxLQUFLO0FBQ0w7QUFDQTs7QUNaTyxNQUFNLGFBQWEsU0FBUyxRQUFRLENBQUM7QUFDNUM7QUFDQSxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3ZCLFFBQVEsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFDO0FBQ3hDLEtBQUs7QUFDTDtBQUNBOztBQ0hPLE1BQU0sT0FBTyxDQUFDO0FBQ3JCO0FBQ0EsSUFBSSxXQUFXLENBQUMsWUFBWSxHQUFHLElBQUksRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLElBQUksRUFBRSxjQUFjLENBQUMsQ0FBQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxhQUFhLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxZQUFZLENBQUMsWUFBWSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUU7QUFDekQsUUFBUSxJQUFJLFlBQVksS0FBSyxJQUFJLEVBQUU7QUFDbkMsWUFBWSxPQUFPLElBQUksQ0FBQztBQUN4QixTQUFTO0FBQ1QsUUFBUSxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDeEQsUUFBUSxHQUFHLFdBQVcsS0FBSyxJQUFJLElBQUksV0FBVyxLQUFLLFNBQVMsRUFBRTtBQUM5RCxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxRQUFRLE9BQU8sSUFBSSxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDMUMsS0FBSztBQUNMO0FBQ0EsSUFBSSxLQUFLLENBQUMsWUFBWSxFQUFFO0FBQ3hCLFFBQVEsTUFBTSxXQUFXLEdBQUcsSUFBSUEsZUFBRyxFQUFFLENBQUM7QUFDdEMsUUFBUSxJQUFJLFlBQVksS0FBSyxJQUFJLEVBQUU7QUFDbkMsWUFBWSxPQUFPLFdBQVcsQ0FBQztBQUMvQixTQUFTO0FBQ1QsUUFBUSxNQUFNLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRTtBQUNsRSxZQUFZLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksUUFBUSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzNELFNBQVM7QUFDVCxRQUFRLE9BQU8sV0FBVyxDQUFDO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGFBQWEsQ0FBQyxJQUFJLEVBQUU7QUFDeEIsUUFBUSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFDLEtBQUs7QUFDTDtBQUNBOztBQzNGTyxNQUFNLGFBQWEsU0FBUyxRQUFRLENBQUM7QUFDNUM7QUFDQSxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO0FBQ3ZCLFFBQVEsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFDO0FBQ3hDLEtBQUs7QUFDTDtBQUNBOztBQ1pPLE1BQU0sUUFBUSxTQUFTLFFBQVEsQ0FBQztBQUN2QztBQUNBLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxPQUFPLEtBQUssQ0FBQyxFQUFFO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDdkIsUUFBUSxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUM7QUFDbkMsS0FBSztBQUNMO0FBQ0E7O0FDWE8sTUFBTSxTQUFTLENBQUM7QUFDdkI7QUFDQSxJQUFJLFdBQVcsQ0FBQyxVQUFVLEVBQUU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3RFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLE9BQU8sQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRTtBQUNsRCxRQUFRLElBQUksVUFBVSxLQUFLLElBQUksRUFBRTtBQUNqQyxZQUFZLE9BQU8sSUFBSSxDQUFDO0FBQ3hCLFNBQVM7QUFDVCxRQUFRLE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNwRCxRQUFRLEdBQUcsU0FBUyxLQUFLLElBQUksSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO0FBQzFELFlBQVksT0FBTyxJQUFJLENBQUM7QUFDeEIsU0FBUztBQUNULFFBQVEsT0FBTyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN4QyxLQUFLO0FBQ0w7QUFDQTs7QUMvQk8sTUFBTSxHQUFHLENBQUM7QUFDakI7QUFDQSxJQUFJLFdBQVcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7QUFDNUIsS0FBSztBQUNMO0FBQ0E7O0FDbEJPLE1BQU0sZUFBZSxDQUFDO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBTyxXQUFXLENBQUMsU0FBUyxFQUFFO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QyxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7QUFDaEMsWUFBWSxNQUFNLDBCQUEwQixDQUFDO0FBQzdDLFNBQVM7QUFDVDtBQUNBLFFBQVEsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hELFFBQVEsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2RCxRQUFRLE1BQU0sU0FBUyxHQUFHLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3REO0FBQ0EsUUFBUSxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUMsUUFBUSxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ25ELFFBQVEsTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDaEQ7QUFDQSxRQUFRLE9BQU8sSUFBSSxHQUFHLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN0RCxLQUFLO0FBQ0w7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7In0=
